<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Playground</title>
</head>

<body>
  <div id="app"></div>
  <script type="module">
    import greymon, { Head, Body, Arms, Legs, Feet } from '../build/index.js';
    console.log(greymon);

    const { Perfect } = greymon;


    const combination = {
      head: Head({
        descriptor: '<div>head</div>',
        actions: [
          function nod() {
            console.log('nod');
          },
          function shake() {
            console.log('shake');
          },
        ],
      }),
      body: Body({
        descriptor: '<div>body</div>',
        actions: [],
      }),
      arms: Arms({
        descriptor: '<div>arms</div>',
        actions: [
          function wave() {
            console.log('wave');
          },
          function raise() {
            console.log('raise');
          },
        ],
      }),
      legs: Legs({
        descriptor: '<div>legs</div>',
        actions: [
          function jump() {
            console.log('jump');
          },
          function run() {
            console.log('run');
          },
        ],
      }),
      feet: Feet({
        descriptor: '<div>feet</div>',
        actions: [],
      }),
    };

    const p = new Perfect(combination);
    const descriptors = p.getDescriptors().map(part => Object.values(part)[0]).join('');

    document.querySelector('#app').innerHTML = descriptors;
  </script>
</body>

</html>